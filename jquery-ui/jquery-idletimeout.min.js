!function(e){e.fn.idleTimeout=function(i){var t,o,n,s=e.extend({idleTimeLimit:12e5,dialogDisplayLimit:18e4,redirectUrl:"/logout",customCallback:!1,activityEvents:"click keypress scroll wheel mousewheel mousemove",dialogTitle:"Session Expiration Warning",dialogText:"Because you have been inactive, your session is about to expire.",sessionKeepAliveTimer:6e4,sessionKeepAliveUrl:"/"},i),l=function(){return e("#idletimer_warning_dialog").dialog("isOpen")},r=function(){e(".ui-dialog-content").dialog("destroy").remove()},a=function(){var i;e.now()>store.get("idleTimerLastActivity")+s.idleTimeLimit?!0!==l()&&(i="<div id='idletimer_warning_dialog'><p>"+s.dialogText+"</p></div>",e(i).dialog({buttons:{"Stay Logged In":function(){r(),m(),c()},"Log Out Now":function(){v()}},closeOnEscape:!1,modal:!0,title:s.dialogTitle}),e(".ui-dialog-titlebar-close").css("display","none"),g()):!0===store.get("idleTimerLoggedOut")?v():!0===l()&&(r(),m())},c=function(){d(),n=e.now(),store.set("idleTimerLastActivity",n),t=setInterval(a,2e3)},d=function(){clearInterval(t)},u=function(){(e.now()>store.get("idleTimerLastActivity")+s.idleTimeLimit+s.dialogDisplayLimit||!0===store.get("idleTimerLoggedOut"))&&v()},g=function(){o=setInterval(u,2e3)},m=function(){clearInterval(o)},v=function(){store.set("idleTimerLoggedOut",!0),s.customCallback&&s.customCallback(),s.redirectUrl&&(window.location.href=s.redirectUrl)};return this.each(function(){store.enabled?(n=e.now(),store.set("idleTimerLastActivity",n),store.set("idleTimerLoggedOut",!1)):window.console.alert("Dependent file missing. Please see: https://github.com/marcuswestin/store.js"),e("body").on(s.activityEvents,function(){!0!==l()&&c()}),s.sessionKeepAliveTimer&&setInterval(function(){n===store.get("idleTimerLastActivity")&&e.get(s.sessionKeepAliveUrl)},s.sessionKeepAliveTimer),c()})}}(jQuery);